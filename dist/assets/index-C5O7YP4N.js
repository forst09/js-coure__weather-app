function l(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function t(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(e){if(e.ep)return;e.ep=!0;const n=t(e);fetch(e.href,n)}})();async function a(r,s,t){s.classList.add("main__window--message"),t.classList.add("main__content--message"),t.innerHTML='\n        <img src="/icons/loader.svg" class="loader"></img>\n        <span>data is loading</span>\n    ';try{const e=await(await fetch("https://api.weatherapi.com/v1/forecast.json?key=891b887bed714e6c9c4191325241608&q=".concat(r,"&days=1&aqi=no&alerts=no"))).json();e.error?(s.classList.add("main__window--message"),t.classList.add("main__content--message"),t.innerHTML="\n                <p>".concat(e.error.message,"</p>\n            ")):(s.classList.remove("main__window--message"),t.classList.remove("main__content--message"),t.innerHTML='\n                <h1 class="title main__title">Weather in '.concat(e.location.country,", ").concat(e.location.name,'</h1>\n                <span class="main__temperature">').concat(Math.round(e.current.temp_c),' &deg;C</span>\n                <span class="main__descr">').concat(e.current.condition.text,'</span>\n                <span class="main__humidity">Humidity: ').concat(e.current.humidity,'%</span>\n                <span class="main__wind">Wind Speed: ').concat(Math.round(e.current.wind_kph/3.563)," m/s</span> \n            "),t.querySelector(".main__descr").style.setProperty("--icon-src",'url("'.concat(e.current.condition.icon,'")')))}catch(o){s.classList.add("main__window--message"),t.classList.add("main__content--message"),t.innerHTML="\n            <p>".concat(o.message,"</p>\n        ")}}function c(){const r=document.querySelector(".main__window");if(r){let t=function(e){const{latitude:n,longitude:i}=e.coords;a("".concat(n,",").concat(i),r,s)},o=function(e){const{message:n}=e;r.classList.add("main__window--message"),s.classList.add("main__content--message"),s.innerHTML="\n                <p>".concat(n,"</p>\n                <p>Please try again</p>\n            ")};const s=r.querySelector(".main__content");navigator.geolocation.getCurrentPosition(t,o)}}function d(r,s){const t=document.querySelector("form");t&&t.addEventListener("submit",o=>{o.preventDefault();const e=t.querySelector(".form__search-input").value;a(e,r,s)})}document.addEventListener("DOMContentLoaded",()=>{const r=document.querySelector(".main__window");if(r){const s=r.querySelector(".main__content");c(),d(r,s)}});export{l as __vite_legacy_guard};
