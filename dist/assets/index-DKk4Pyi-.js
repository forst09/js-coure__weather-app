function p(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();function l(o,s,n,c,e){let t;document.querySelector(".forecast")?(t=document.querySelector(".forecast"),t.innerHTML=""):(t=document.createElement("ul"),t.classList.add("forecast"),o.append(t)),c.forEach(a=>{a.time>=e&&console.log(a)});const r=c.filter(a=>a.time_epoch>=s);console.log(c,r),r.length>0&&r.forEach(a=>{const i=document.createElement("li");i.classList.add("forecast__item"),i.innerHTML='\n                <span class="forecast__item-hour">'.concat(new Date(a.time).getHours(),':00</span>\n                <div class="forecast__item-img img">\n                    <img src="').concat(a.condition.icon,'"\n                     alt="forecats-icon"\n                     class="img__img">\n                </div>\n                <span class="forecast__item-temp">').concat(Math.round(a.temp_c)," &deg;C</span>\n            "),t.append(i)})}async function d(o,s,n){s.classList.add("main__window--message"),n.classList.add("main__content--message"),n.innerHTML='\n        <img src="/icons/loader.svg" class="loader"></img>\n        <span>data is loading</span>\n    ';try{const e=await(await fetch("https://api.weatherapi.com/v1/forecast.json?key=891b887bed714e6c9c4191325241608&q=".concat(o,"&days=1&aqi=no&alerts=no"))).json();e.error?(s.classList.add("main__window--message"),n.classList.add("main__content--message"),n.innerHTML="\n                <p>".concat(e.error.message,"</p>\n            "),s.querySelector(".forecast").remove()):(console.log(e),s.classList.remove("main__window--message"),n.classList.remove("main__content--message"),n.innerHTML='\n                <h1 class="title main__title">Weather in '.concat(e.location.country,", ").concat(e.location.name,'</h1>\n                <span class="main__temperature">').concat(Math.round(e.current.temp_c),' &deg;C</span>\n                <span class="main__descr">').concat(e.current.condition.text,'</span>\n                <span class="main__humidity">Humidity: ').concat(e.current.humidity,'%</span>\n                <span class="main__wind">Wind Speed: ').concat(Math.round(e.current.wind_kph/3.563)," m/s</span> \n            "),n.querySelector(".main__descr").style.setProperty("--icon-src",'url("'.concat(e.current.condition.icon,'")')),l(s,e.current.last_updated_epoch,e.current.last_updated,e.forecast.forecastday[0].hour,e.location.localtime))}catch(c){s.classList.add("main__window--message"),n.classList.add("main__content--message"),n.innerHTML="\n            <p>".concat(c.message,"</p>\n        ")}}function u(){const o=document.querySelector(".main__window");if(o){let n=function(e){const{latitude:t,longitude:r}=e.coords;d("".concat(t,",").concat(r),o,s)},c=function(e){const{message:t}=e;o.classList.add("main__window--message"),s.classList.add("main__content--message"),s.innerHTML="\n                <p>".concat(t,"</p>\n                <p>Please try again</p>\n            ")};const s=o.querySelector(".main__content");navigator.geolocation.getCurrentPosition(n,c)}}function m(o,s){const n=document.querySelector("form");n&&n.addEventListener("submit",c=>{c.preventDefault();const e=n.querySelector(".form__search-input").value;d(e,o,s)})}document.addEventListener("DOMContentLoaded",()=>{const o=document.querySelector(".main__window");if(o){const s=o.querySelector(".main__content");u(),m(o,s)}});export{p as __vite_legacy_guard};
